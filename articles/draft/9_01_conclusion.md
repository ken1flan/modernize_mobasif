# おわりに

私はしばらく前から技術書典に出せてていただいています。その話を同僚にしたら、仕事で使っているMobaSiFの本を書いてよと言われました。ちょうどその頃、Dockerをちゃんと勉強したいな、ともも考えていました。そして、同じ会社にかなり長くいたこともあって、転職したいとも考えていました。
そこで、ふと、MobaSiFをDocker上に構築する本を書けばよいのではないか、ちょうど卒業論文的でもあるし、一挙三徳。いっちょやってみるか…と今回の本の内容の実装を始めたのでした。

実際にやって感じたことは、DockerやCircleCIは大変素直で扱いやすいことと、MobaSiFでもテストを行える環境が整っていれば不安なく開発できるということでした。DockerやCircleCIはセットアップの手順を並べるだけなのでした。ただ、Dockerイメージを再構築したあとにDocker Hubにアップロードする際とても時間がかかるので、書き方や管理の仕方に工夫の余地がかなりありそうでした。
MobaSifのほうは、よくも悪くも素直なPerlでできているために、いじっているうちにいろいろわかってきました。このフレームワークを使ったアプリケーションを開発する際には、最初に簡単なサンプルアプリケーションを作るのが一番手っ取り早い理解方法のような気がしました。（自分はいきなり大きなアプリケーションの改修から入ったので、最初は全体像がわからず作っていました…。）また、素直なPerlなので、知っていればテストの導入もすんなりできると思いました。テストを入れた後は、仕事のときのようにわからないところで壊れるかもしれない、と恐怖に怯えることなく開発できるようになりました。今までMobaSiFでの開発が嫌でしょうがなかったのですが、今回はむしろ楽しく開発できました。テストは最高です。

ただ、これをそのまま実際に運用中のコードの中に入れられるかというと、64bitではMcodeがコンパイルできないので、なかなか難しそうです。もしやるなら、32bitの環境でJenkinsなどを使ってテストが動作する環境を作り、動作保証が最低限されている状態を作ってから、Mcodeの除去をして、64bitへ移行する、などの方法をとったほうがよさそうです。ただ、そこまでがんばってやる価値があるのかというと…状況によると思います。自分の仕事のほうではMobaSiFを使ったアプリケーションはすでに半分以上Railsに置き換えが済んでいるので、今からだと自分は薦めません…。

この本でやっていることをそのまま参考にできる方はほぼいないと思いますが、もし…もし…いましたら、幸いです。

## 参考文献

- [OSDN MobaSiFプロジェクトページ](https://ja.osdn.net/projects/moba/)
- [Gihyo.jp モバゲータウンのノウハウ満載！ フレームワークMobaSiFを使おう！](https://gihyo.jp/dev/feature/01/mobasif)
- [Railsガイド](https://railsguides.jp/)
